<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CGH-Outpatient-Requisition-for-Cardiology-DX-Services-2019</title>
<style type="text/css" media="screen" >
input {
	-moz-box-sizing: content-box;
	-webkit-print-color-adjust: exact;
	-webkit-box-sizing: content-box;
	box-sizing: content-box
}
 .sig {
	border: 2px dotted blue;
	color: Black;
	background-color: white;
 }
    /* Drawing the 'gripper' for touch-enabled devices */
    html.touch #content {
        float:left;
        width:92%;
    }
    html.touch #scrollgrabber {
        float:right;
        width:4%;
        margin-right:2%;
        background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAFCAAAAACh79lDAAAAAXNSR0IArs4c6QAAABJJREFUCB1jmMmQxjCT4T/DfwAPLgOXlrt3IwAAAABJRU5ErkJggg==)
    }
    html.borderradius #scrollgrabber {
        border-radius: 1em;
    }
 </style>

<style type="text/css" media="print">

 .DoNotPrint {
	display: none;
 }
 .noborder {
	border : 0px;
	background: transparent;
	scrollbar-3dlight-color: transparent;
	scrollbar-3dlight-color: transparent;
	scrollbar-arrow-color: transparent;
	scrollbar-base-color: transparent;
	scrollbar-darkshadow-color: transparent;
	scrollbar-face-color: transparent;
	scrollbar-highlight-color: transparent;
	scrollbar-shadow-color: transparent;
	scrollbar-track-color: transparent;
	background: transparent;
	overflow: hidden;
 }
.sig {
	border-style: solid;
	border-color: transparent;
	color: Black;
	background-color: transparent;
 }

 </style>

<!-- jQuery for greater functionality -->
    <script type="text/javascript" src="${oscar_javascript_path}jquery/jquery-1.4.2.js"></script>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script>if (typeof jQuery === 'undefined') {
	document.write(unescape('%3Cscript%20src%3D%22../js/jquery-1.7.1.min.js%22%3E%3C/script%3E'));
}
</script>
<script>if (typeof jQuery === 'undefined') {
	document.write(unescape('%3Cscript%20src%3D%22jquery-1.7.1.min.js%22%3E%3C/script%3E'));
}
</script>
<!-- auto ticking gender Xboxes OR checkboxes -->
<script type="text/javascript" language="javascript">
function checkGender(){
	 if (document.getElementById("PatientGender").value == "M"){
	 document.getElementById("Male").click();
	 }else if (document.getElementById("PatientGender").value == "F"){
	 document.getElementById("Female").click();
	}
 }
</script>

<script language="javascript">
function formPrint(){
	window.print();
} 
</script>

<!-- scripts to confirm closing of window if it hadnt been saved yet -->
<script language="javascript">
//keypress events trigger dirty flag
var needToConfirm = false;
document.onkeyup=setDirtyFlag;
function setDirtyFlag(){
	needToConfirm = true;
}
function releaseDirtyFlag(){
	needToConfirm = false; //Call this function to prevent an alert.
//this could be called when save button is clicked
}
window.onbeforeunload = confirmExit;
function confirmExit(){
	if (needToConfirm){
		 return "You have attempted to leave this page. If you have made any changes to the fields without clicking the Save button, your changes will be lost. Are you sure you want to exit this page?";
	 }
}
</script>

<!-- scripts for Xbox functions -->
<script language="javascript">
$(document).ready(function() {
	  $( ".Xbox" ).click(function() {
		  var st = $( this ).val();
		  if (st=="X") {
			  $( this ).val("");
		  } else {
			  $( this ).val("X");
		  }
	});

$( ".Xbox" ).keypress(function(event) {
	  // any key press except tab will constitute a value change to the checkbox
	  if (event.which != 0){
		  $( this ).click();
		  return false;
		  }
	});

});
</script>

<!-- jQuery for radio fields -->
<script>
$(document).ready(function() {
	$('[class^="only-one-"]').click(function() {
		if ( $(this).is('input:checkbox') ){
			$('.'+$(this).attr('class')).prop('checked', false);
			$(this).prop('checked', true);
		}

		if ( $(this).is('input:text') ){
			$('.'+$(this).attr('class')).val('');
			$( this ).val('X');
		}
	});
});
</script>

	<!-- Xbox styling -->

	<style type="text/css">
		.box1 {
			position: absolute;
			border: transparent;
			cursor: pointer;
			font-weight: bold;
			text-align: center;
			background: aqua;
			font-size: 14px;
			width:14px;
			height:14px;
		}
		.box2 {
			position: absolute;
			border: 1px solid #000000;
			cursor: pointer;
			font-weight: bold;
			text-align: center;
			background: aqua;
			font-size: 14px;
			width:14px;
			height:14px;
		}
 
		[class^="only-one-radio_"] {
			position: absolute;
			width: 14px;
			height: 14px;
			font-size: 14px;
			border: 1px solid #000000;
			cursor: pointer;
			font-weight: bold;
			font-family:sans-serif;
			text-align: center;
			background: aqua;
			}
	</style>

	<!-- XBox styling -->

<script type="text/javascript">
function reImg(){
// for stand alone development without uploading to OSCAR
	var strLoc = window.location.href.toLowerCase();
	if(strLoc.indexOf("https") == -1) {
		var src1 = document.getElementById("BGImage1").src;
		document.getElementById("BGImage1").src = src1.replace("$%7Boscar_image_path%7D","");
		var src2 = document.getElementById('BGImage2').href;
		document.getElementById('BGImage2').href = src2.replace('$%7Boscar_image_path%7D','');
	}
}
</script>

    <script language="javascript">

	function parseName() {
		// Get the name
		var fullName = document.getElementById("current_user_name").value;

		// Split the value
		var splitName = fullName.split(",");
		var firstName = "";
		var lastName  = "";

		// Check for last name
		if(splitName.length >= 1) {
			lastName = splitName[0].trim();
		}
		if(splitName.length >= 2) {
			firstName = splitName[1].trim();
		}
		var First_Last_Name = firstName + " " + lastName;

		// Show the fields on the page
		document.FormName.LastName1.value = lastName ;
		document.FormName.firstName1.value = firstName ;
		document.FormName.CurrentUser.value = First_Last_Name ;
	}
     </script>

</head>

<body onload="checkGender();reImg(); parseName(); ">
<form method="post" action="" name="FormName" id="FormName" >

<div id="page1"  >

<img id="BGImage1" src="${oscar_image_path}CGH-Cardiology-Outpatient-Diagnostic-Req.png" style="position: relative; left: 0px; top: 0px; width:750px">

<!-- Hidden Inputs -->

<input name="PatientGender" id="PatientGender" type="text" style="position:absolute; visibility: hidden;" oscarDB=sex>

<input name="current_user_name" id="current_user_name" type="text" style="position:absolute; visibility: hidden;" oscarDB=current_user>

<input name="LastName1" id="LastName" type="text" style="position:absolute; visibility: hidden;" value="">

<input name="firstName1" id="firstName" type="text" style="position:absolute; visibility: hidden;" value="">


<!-- End hidden inputs -->


<a id="BGImage2" class="DoNotPrint" style="position:absolute; left:15px; top:100px;" href="${oscar_image_path}Patient-test-instructions---CGH-Cardiology-booking-2019.png" target="_blank" title="Referral Criteria">Patient Instructions ctrl+p = print</a>

<input name="FirstLastName" id="FirstLastName" type="text" class="noborder" style="position:absolute; left:147px; top:165px; width:210px; height:21px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" oscarDB=first_last_name>

<input name="PHN" id="PHN" type="text" class="noborder" style="position:absolute; left:400px; top:165px; width:235px; height:21px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=hinc>

<input name="DOB" id="DOB" type="text" class="noborder" style="position:absolute; left:120px; top:192px; width:150px; height:21px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=dob>

<input name="Male" id="Male" type="text" class="Xbox box1" style="position:absolute; left:418px; top:199px;" value="">

<input name="Female" id="Female" type="text" class="Xbox box1" style="position:absolute; left:450px; top:199px;" value="">

<input name="Phone1" id="Phone1" type="text" class="noborder" style="position:absolute; left:115px; top:220px; width:200px; height:16px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=phone>

<input name="Cel" id="Cel" type="text" class="noborder" style="position:absolute; left:490px; top:220px; width:140px; height:16px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=cell>

<input name="ECG" id="ECG" type="text" class="Xbox box2" style="position:absolute; left:157px; top:263px;" >

<input name="Pacemaker" id="Pacemaker" type="text" class="Xbox box2" style="position:absolute; left:605px; top:263px;" >

<input name="Holter" id="Holter" type="text" class="Xbox box2" style="position:absolute; left:157px; top:285px; ">

<input name="Treadmill" id="Treadmill" type="text" class="Xbox box2" style="position:absolute; left:605px; top:285px; ">

<input name="BP" id="BP" type="text" class="Xbox box2" style="position:absolute; left:605px; top:307px; ">

<input name="Event" id="Event" type="text" class="Xbox box2" style="position:absolute; left:605px; top:329px; ">

<textarea name="Reason" id="Reason" class="noborder" style="position:absolute; left:170px; top:460px; width:500px; height:56px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:white; text-decoration:underline;" ></textarea>

<textarea name="Medications" id="Medications" class="noborder" style="position:absolute; left:95px; top:517px; width:575px; height:45px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:white; text-decoration:underline"  oscarDB=druglist_line></textarea>

<span style="position:absolute; left:167px; top:560px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px;"><input name="CurrentUser" id="CurrentUser" type="text" class="noborder" style="width:160px; height:21px;  background-color:transparent; text-align:right;"  value=""> MD, &nbsp; CPSID <input name="CurrentUserCPSID" id="CurrentUserCPSID" type="text" class="noborder" style="width:60px; height:21px;  background-color:transparent;"  oscarDB=current_user_cpsid></span>

<span style="position:absolute; left:155px; top:585px;  font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px;"><input name="CC" id="CC" type="text" class="noborder" style="width:160px; height:21px; text-align:right; background-color:transparent;"  oscarDB=provider_name_first_init> MD, &nbsp; CPSID <input name="doctor_cpsid" id="doctor_cpsid" type="text" class="noborder" style="width:60px; height:21px;  background-color:transparent;"  oscarDB=doctor_cpsid>, and <input name="OtherDoctor" id="OtherDoctor" type="text" class="noborder" style="width:160px; height:21px;  background-color:transparent;" ></span>

<input name="Routine" id="Routine" type="text" class="only-one-radio_Urgency" style="left:185px; top:610px; " >

<input name="Urgent" id="Urgent" type="text" class="only-one-radio_Urgency" style="left:185px; top:635px; " >


</div>


 <div class="DoNotPrint" id="BottomButtons" style="position: absolute; top:950px; left:0px;">
	 <table><tr><td>
		 Subject: <input name="subject" size="40" type="text"> <br> 
		<input value="Submit" name="SubmitButton" id="SubmitButton" type="submit" onclick=" releaseDirtyFlag();"> 
			<input value="Reset" name="ResetButton" id="ResetButton" type="reset"> 
			<input value="Print" name="PrintButton" id="PrintButton" type="button" onclick="formPrint();"> 
			<input value="Print & Submit" name="PrintSubmitButton" id="PrintSubmitButton" type="button" onclick="formPrint();releaseDirtyFlag();setTimeout('SubmitButton.click()',1000);"> 
	 </td></tr></table>
	 	 
<!-- Copy Left -->
 
 <a rel="liscence" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US" target="blank"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png"/></a><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">created June 27<sup>th</sup> 2019 by Dr. John Robertson, </span>licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US" target="_blank">GPL</a>. <span style="color:forestgreen;">Please consider supporting  </span> <a  href="https://oscar-emr.com/support-oscar/" target="_blank" >OSCAR EMR Canada</a> <span style="color:forestgreen;"> and/or  </span> <a  href="http://oscarbc.ca/" target="_blank" >OSCAR BC</a>.
 </div> .<br><br>

 </form>

</body>
</html>