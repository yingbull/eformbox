<!DOCTYPE html>
<html >
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8"  />
<meta name="description" content="General Orthopaedic BC Children's hospital circa 2024"  />
<meta name="keywords" content="Orthopaedics, Pediatrics, BC, Children's Hospital, BCCH"  />
<meta name="robots" content="nofollow"  />
<meta http-equiv="author" content="John Robertson"  />
<title>General Orthopaedic BC Children's hospital 2024</title>

<!-- Created 2024/11/27/ 09:51  -->

<!-- eForm DISCLAIMER: As is: eForms are shared as-is, free of charge on a share-alike basis with absolutely no guarantee or warranty.
 No Quality Control: The author does not vet any eForms and does not purport to apply any manner of quality control.
 Responsibility: The responsibility for the clinical and medical-legal consequences of any and all eForms, rest with the clinical OSCAR end-users themselves, not with the author of the eForm.
 This applies to both eForms shared by others, and those created by users themselves.
 Attribution: eForms are shared freely among the user community, with attribution to the original author of the eForm.
 Free: eForms so shared may not be sold or purchased.
 Provincial validation:  eForms are optional and non-essential add-ons, separate from OSCAR, and with their own license terms.
 eForms are not part of the OSCAR core program functionality and code base.
 For this reason eForms are not subject to provincial validation testing and conformance criteria. 
 eForms are also not subject to the ISO production process for OSCAR. -->
<!--This eForm is protected by the GNU General Public License version 2 (GPLv2)
You may copy and distribute verbatim copies of the Program's source code as you receive it, in any medium, provided that you conspicuously
 and appropriately publish on each copy an appropriate copyright notice and disclaimer of warranty; keep intact all the notices that refer
 to this License and to the absence of any warranty; and give any other recipients of the Program a copy of this License along with the Program. -->

<!-- Do not use apostrophes - they do not allow for proper eForm zip inside Oscar.  Instead, use: &#8217; -->

<!-- BCCH colours
Orange color="#d8843d"
dark blue color="#4362a5"
light blue color="#60c9e1"
Yellow color="#fbc13f"
-->

<style type="text/css" media="screen" >
 input {
	-moz-box-sizing: content-box;
	-webkit-print-color-adjust: exact;
	-webkit-box-sizing: content-box;
	box-sizing: content-box
 }
/* Drawing the 'gripper' for touch-enabled devices */
 html.touch #content {
	float:left;
	width:92%;
}
 html.touch #scrollgrabber {
	float:right;
	width:4%;
	margin-right:2%;
	background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAFCAAAAACh79lDAAAAAXNSR0IArs4c6QAAABJJREFUCB1jmMmQxjCT4T/DfwAPLgOXlrt3IwAAAABJRU5ErkJggg==)
 }
 html.borderradius #scrollgrabber {
	border-radius: 1em;
 }


	input#SubmitButton {
		color: white;
		text-shadow: 0px 1px 1px #ffffff;
		border-bottom: 2px solid #b2b2b2;
		background-color: #4362a5;
		background: -webkit-gradient(linear, left top, left bottom, from(#4362a5), to(#60c9e1));
		background: -moz-linear-gradient(top, #4362a5, #60c9e1);
		background: -o-linear-gradient(top, #4362a5, #60c9e1);
		background: -ms-linear-gradient(top, #4362a5, #60c9e1);}
	input#SubmitButton:hover {
		color: white;
		border: 1px solid #a4a4a4;
		border-top: 2px solid #b2b2b2;
		background-color: #fbc13f;
		background: -webkit-gradient(linear, left top, left bottom, from(#60c9e1), to(#4362a5));
		background: -moz-linear-gradient(top, #60c9e1, #4362a5);
		background: -o-linear-gradient(top, #60c9e1, #4362a5);
		background: -ms-linear-gradient(top, #60c9e1, #4362a5);}

	input#PrintButton {
		color: black;
		text-shadow: 0px 1px 1px #ffffff;
		border-bottom: 2px solid #b2b2b2;
		background-color: #4362a5;
		background: -webkit-gradient(linear, left top, left bottom, from(#4362a5), to(#60c9e1));
		background: -moz-linear-gradient(top, #4362a5, #60c9e1);
		background: -o-linear-gradient(top, #4362a5, #60c9e1);
		background: -ms-linear-gradient(top, #4362a5, #60c9e1);}
	input#PrintButton:hover {
		color: black;
		border: 1px solid #a4a4a4;
		border-top: 2px solid #b2b2b2;
		background-color: #fbc13f;
		background: -webkit-gradient(linear, left top, left bottom, from(#60c9e1), to(#4362a5));
		background: -moz-linear-gradient(top, #60c9e1, #4362a5);
		background: -o-linear-gradient(top, #60c9e1, #4362a5);
		background: -ms-linear-gradient(top, #60c9e1, #4362a5);}
input:invalid {
    background-color: ivory;
    border: none;
    outline: 1px solid red;
}
textarea:invalid {
    background-color: ivory;
    border: none;
    outline: 1px solid red;
}
 .sig {
	border: 2px dotted blue;
	color: Black;
	background-color: transparent;
 }
::placeholder {
	color: #d8843d;
	font-style: italic;
	opacity: 1;}

.link {  
 border:2px solid #000000;
border-color:#60c9e1;
 border-style:outset;
background:transparent;
text-decoration: none;
 cursor: pointer;
}

 .link:hover {
 border:1px solid #000000;
 border-style:outset;
 background:#60c9e1; 
 opacity:0.4;
 color:#d8843d;
 }

 .link:active { 
 border:3px solid #000000; 
 border-style:inset;
 background:#60c9e1;
 }
	#Sidepanel {
		position:absolute; 
		left:745px; 
		top:90px; 
		min-width: 500px; 
		width: auto;
		height: auto; 
		padding:2px 4px 5px; 
		background:#eeeeee; 
		border:3px solid #d8843d;
	}

.attn{
  animation-name: lookHere;
  animation-duration: 5s;
  animation-timing-function: linear;
  animation-iteration-count: 3;
  animation-direction: alternate;

}

@keyframes lookHere {
  0%   {border-color:#4362a5;
box-shadow: 0 0 5px #4362a5;}
  25%  {border-color:#fbc13f;
box-shadow: 0 0 20px #fbc13f;}
  50%  {border-color:#d8843d;
box-shadow: 0 0 5px #d8843d;}
  75%  {border-color:#60c9e1;
box-shadow: 0 0 20px #60c9e1;}
  100% {border-color:#4362a5;
box-shadow: 0 0 5px #4362a5;}
}

.Show{
	visibility: visible;
	display: inline;
}
.Hide{
	visibility: hidden;
	display: none;
}
  textarea {
    resize: none;
}

</style>

<style type="text/css" media="print">
 .DoNotPrint {
	 display: none;
 }
 .DoNotPrint2 {
	 display: none;
 }
 .noborder {
	 border : 0px;
	 background: transparent;
	 scrollbar-3dlight-color: transparent;
	 scrollbar-3dlight-color: transparent;
	 scrollbar-arrow-color: transparent;
	 scrollbar-base-color: transparent;
	 scrollbar-darkshadow-color: transparent;
	 scrollbar-face-color: transparent;
	 scrollbar-highlight-color: transparent;
	 scrollbar-shadow-color: transparent;
	 scrollbar-track-color: transparent;
	 background: transparent;
	 overflow: hidden;
 }
/* hide placeholders on print */
::placeholder {
	color: transparent;
}
  
.Show{
	visibility: visible;
	display: inline;
}
.Hide{
	visibility: hidden;
	display: none;
}

  textarea {
    resize: none;
}
 .sig {
	border-style: solid;
	border-color: transparent;
	color: Black;
	background-color: transparent;
 }
</style>

<!-- style script for the accordion boxes -->
<style>
	.accordion {
		background-color: #60c9e1;
		color: #fbc13f;
		cursor: pointer;
		padding: 12px;
		width: 100%;
		border: none;
		text-align: left;
		outline: none;
		font-size: 14px;
		font-weight: bold;
		transition: 0.6s;
	}

	.active, .accordion:hover {
		background-color: #d8843d;
		font-weight: bold;
		color: #60c9e1;
	}

	.accordion:after {
		content: '\002B';
		color: #fbc13f;
		float: right;
		margin-left: 5px;
	}

	.active:after {
		content: "\2212";
	}

	.panel {
		padding: 0 18px;
		background-color: #F8F8F8;
		border: 1px solid lightgrey;
		max-height: 0;
		overflow: hidden;
		transition: max-height 0.7s ease-out;
	}
</style>

<!-- jQuery for greater functionality -->
<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.1.min.js" integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00=" crossorigin="anonymous" ></script>
<script> window.jQuery || document.write('<script src="../js/jquery-1.7.1.min.js">< \/script>') </script>
<script>
if (typeof jQuery === 'undefined') {
	document.write(unescape('%3Cscript%20src%3D%22../js/jquery-1.7.1.min.js%22%3E%3C/script%3E'));
}
</script>


<script type="text/javascript" src="${oscar_javascript_path}eforms/printControl.js"></script>
<script type="text/javascript" src="${oscar_javascript_path}eforms/faxControl.js"></script>

<!-- script to link to other pages -->
<script language="javascript" src="${oscar_image_path}onBodyLoad_Oct2018.js"></script>
<script language="javascript1.2" type="text/javascript" src="onBodyLoad_Oct2018.js"></script>

<script language="javascript" type="text/javascript">
		/****************************
		startup functions 
		****************************/
		function startUp()
		{			
			if (document.getElementById("patient_nameL")) {
				setDocumentTitle('General Orthopaedic BC Childrens hospital 2024', document.getElementById('patient_nameL').value);
			}
			reImg();
			setDefaults();
			setFaxNo();
			//optimize window size/width
			top.window.resizeTo(900, screen.availHeight);

		}
		
		function setDocumentTitle(Title,patient_nameL)
		{
			// set document title
			document.title = Title + ' - ' + patient_nameL;					
							
		}

        function setDefaults() {
            // check the newform flag to ensure this is the initial load of the form
          if (document.getElementById("newForm").value == 'True') {
			Referral_External.click();
			parseDate('today',0,1,2,'-','/');
            Stamp.click();
            Priority_Routine.click();
            OrthoDoc.value = 'First Available';
		} else { // do this if reloaded
			loadSig();
			reloadSignature();
		}
	} 

function documents() {

  if (window.location.href.includes('openosp')) {

    window.open("../documentManager/documentReport.jsp?function=demographic&doctype=lab&functionid="+RegExp.$1+"&curUser=");

  } else {

    window.open("../dms/documentReport.jsp?function=demographic&doctype=lab&functionid="+RegExp.$1+"&curUser=&mode=add&parentAjaxId=docs");

  }

}

</script>

<script language="javascript" type="text/javascript">

	/****************************
		Create date in dd/mmm/yyyy format; 
		Oscar default is yyyy-mm-dd
	****************************/

function parseDate(id, x, y, z, D, d) {
	// Now included code to remove time from dates
    // Change date field to dd/mmm/yyyy format
	//The element that you want to change is passed via the id
	// If the initial order is  YYYY  MM  DD then x should be 0,y should be 1, and z should be 2
	// If the initial order is  DD  MM and YYYY then x should be 2,y should be 1, and z should be 0
	// Delimiter (between the digits for day month and year) is passed as D - usually either a "-"  or a "/"
	// Output Delimiter (between the digits for day month and year) is passed as d - usually either a "-"  or a "/"
    // Get the date
    var fullMeasurementDate = $("#" + id).val();
    var fullDate = fullMeasurementDate.split(' ')[0];

    if (fullDate) {
    // Split the value
        var year = fullDate.split(D)[x];
        var monthNum = fullDate.split(D)[y];
        var monthNumArray = monthNum - 1;
        var day = fullDate.split(D)[z];
	// Convert Numeric Month to 3 letter month using toLocaleString
        var date = new Date(year, monthNumArray, day);
        var month = date.toLocaleString('default', { month: 'short' });
        var mixedDate = day + d + month + d + year;
        var numericDate = day + d + monthNum + d + year;
    // Show the fields on the page
        $("#" + id).val(mixedDate);
    //  $("#" + id).val(numericDate);
    } else {
        $("#" + id).attr("placeholder", "click for date");
    }
}
</script>

<script>
       document.addEventListener("DOMContentLoaded", function () {
    // Mapping between main categories and descriptions
    const categoryToDescriptions = {
        "Bone and Joint Infections": [
            "Osteomyelitis - Chronic"
        ],
        "Disorders of the Arms": [
            "Erb's Palsy/Brachial plexus birth palsy",
            "Madelung's deformity",
            "Other elective upper limb disorder",
            "Shoulder Instability - Urgent",
            "Shoulder Instability",
            "Sprenge's Deformity",
            "Osteogenesis Imperfecta upper extremity",
            "Congenital/ developmental radial head dislocation",
            "Malunion forearm",
            "Malunion/Nonunion elbow",
            "Malunion distal radius/ulna",
            "Growth arrest wrist",
            "Growth arrest shoulder",
            "Post-traumatic contracture elbow",
            "Elbow instability",
            "Query scaphoid fracture",
            "Clavicle fracture",
            "Radioulnar synostosis",
            "Bone tumour (benign), including osteochondroma (upper extremity)",
            "Neuromuscular (cerebral palsy) upper extremity",
            "Wrist pain NYD",
            "Rotator cuff injury, not subscap avulsion",
            "Rotator cuff injury, subscap avulsion",
            "Post-traumatic Monteggia fracture/dislocation elbow",
            "Snapping scapula",
            "Congenital difference upper extremity",
            "Trigger thumb"
        ],
        "Disorders of the Feet": [
            "Clubfeet: < 1 year",
            "Vertical Talus: < 1 year",
            "Metatarsus Adductus",
            "Accessory Navicular",
            "Clubfeet: > 1 year",
            "Hallux Valgus",
            "Other elective foot disorder",
            "Tarsal Coalition",
            "Toe walking",
            "Vertical Talus: > 1 year"
        ],
        "Disorders of the Hip": [
            "Slipped Capital Femoral Epiphysis - Unstable",
            "Slipped Capital Femoral Epiphysis - Stable",
            "Developmental Dysplasia of hip < 12 months",
            "Developmental Dysplasia of hip - 12 months - 3 years",
            "Avascular Necrosis of the Hip",
            "Legge Perthes",
            "Other elective hip disorder",
            "Developmental Dysplasia of hip - > 3 years"
        ],
        "Fractures and Injuries": [
            "Fracture - Nonunion",
            "Fracture - Malunion"
        ],
        "Minor Variants of Normal": [
            "Other Minor variants of normal orthopaedic development",
            "bow legs (genu varum) in children < 3yrs of age, knock knees (genu valgum) in children <7yrs of age",
            "flexible flat feet",
            "intoeing",
            "outtoeing"
        ],
        "Musculoskeletal Tumours": [
            "Malignant/Aggressive bone tumour",
            "Benign bone tumour"
        ],
        "Neuromuscular": [
            "Muscular Dystrophy",
            "Cerebral Palsy",
            "Spina Bifida"
        ],
        "Other": [
            "Wound infection/dehiscence",
            "Other Cancer - I",
            "Growth arrest (any cause)",
            "Other - IV",
            "Other elective orthopaedic disorder"
        ],
        "Other Disorders of the Legs": [
            "Congenital dislocation of knee",
            "Congenital pseudarthrosis of tibia",
            "Osteochondritis Dissecans",
            "Duplication",
            "Blount’s disease",
            "Leg length discrepancy",
            "Fibular Hemimelia, Proximal Femoral Focal Deficiency, Tibial hemimelia",
            "Genu Valgum (knock knees) >10 yrs old",
            "Genu Varum (bow legs) >3yrs old",
            "Other elective lower limb disorder",
            "Tibia/Femur Torsion",
            "“anterior knee pain NYD” exclude SCFE as source of pain",
            "Osgood schlatters"
        ],
        "Other Neuromuscular": [
            "Charcot Marie Tooth Syndrome",
            "Mitochondiopathy",
            "Mitochondrial Disease"
        ],
        "Other Syndrome": [
            "Arthrogryposis",
            "Neurofibromatosis"
        ],
        "Skeletal Dysplasias": [
            "Dysplasias",
            "Osteogenesis Imperfecta"
        ],
        "Acute Knee injury": [
            "Trauma Referral Form - for knee injuries with fractures",
            "Acute Knee Injury Form - for soft tissue injury-meniscus, ligament etc"
        ],
        "Spine": [
            "Spine Referral Form"
        ],
        // Add other mappings here
    };

        // Mapping for DxDescriptions to additional fields
        const descriptionDetails = {
            "Osteomyelitis - Chronic": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP/Lat of affected bone"
            },
            "Erb's Palsy/Brachial plexus birth palsy": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "Xray not required"
            },
            "Madelung's deformity": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "PA/Lat wrist; Bilateral"
            },
            "Other elective upper limb disorder": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat of affected bone"
            },
            "Shoulder Instability - Urgent": {
                priority: "Send to Trauma",
                targetTime: "",
                requiredXray: ""
            },
            "Shoulder Instability": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP Glenohumeral/Lat shoulder/Axillary"
            },
            "Sprenge's Deformity": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP chest/Lat shoulder"
            },
            "Osteogenesis Imperfecta upper extremity": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "Xray not required"
            },
            "Congenital/ developmental radial head dislocation": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat Elbow"
            },
            "Malunion forearm": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP/Lat Forearm"
            },
            "Malunion/Nonunion elbow": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat Elbow"
            },
            "Malunion distal radius/ulna": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat Wrist"
            },
            "Growth arrest wrist": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat Wrist"
            },
            "Growth arrest shoulder": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP Glenohumeral/Lat shoulder/Axillary (if greater than 1 year of age)"
            },
            "Post-traumatic contracture elbow": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat Elbow"
            },
            "Elbow instability": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat Elbow"
            },
            "Query scaphoid fracture": {
                priority: "Priority 2a",
                targetTime: "within 1 week",
                requiredXray: "PA in ulnar deviation/Lat wrist/Oblique wrist"
            },
            "Clavicle fracture": {
                priority: "Priority 2a",
                targetTime: "within 1 week",
                requiredXray: "AP and 30 degree Cephalad AP"
            },
            "Radioulnar synostosis": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat Forearm"
            },
            "Bone tumour (benign), including osteochondroma (upper extremity)": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat of affected bone"
            },
            "Neuromuscular (cerebral palsy) upper extremity": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "X-Ray not required"
            },
            "Wrist pain NYD": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat Wrist"
            },
            "Rotator cuff injury, not subscap avulsion": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP Glenohumeral/Lat shoulder/Axillary"
            },
            "Rotator cuff injury, subscap avulsion": {
                priority: "Priority 2a",
                targetTime: "within 1 week",
                requiredXray: "AP Glenohumeral/Lat shoulder/Axillary"
            },
            "Post-traumatic Monteggia fracture/dislocation elbow": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat Forearm; Bilat"
            },
            "Snapping scapula": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat Scapula"
            },
            "Congenital difference upper extremity": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat affected limb"
            },
            "Trigger thumb": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "X-Ray not required"
            },
            "Clubfeet: < 1 year": {
                priority: "Priority 2b",
                targetTime: "within 3 weeks",
                requiredXray: "X-Ray not required"
            },
            "Vertical Talus: < 1 year": {
                priority: "Priority 2b",
                targetTime: "within 3 weeks",
                requiredXray: "AP/Lat standing & oblique foot & lateral foot in max plantarflexion"
            },
            "Metatarsus Adductus": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat standing & oblique foot"
            },
            "Accessory Navicular": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat standing & oblique foot"
            },
            "Clubfeet: > 1 year": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat standing & oblique foot"
            },
            "Hallux Valgus": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat standing & oblique foot"
            },
            "Other elective foot disorder": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat standing & oblique foot"
            },
            "Tarsal Coalition": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat standing & oblique foot"
            },
            "Toe walking": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "X-Ray not required"
            },
            "Vertical Talus: > 1 year": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat standing & oblique foot & lateral foot in max plantarflexion"
            },
            "Slipped Capital Femoral Epiphysis - Unstable": {
                priority: "Priority 1",
                targetTime: "call to the Orthopaedic Surgeon",
                requiredXray: "AP Pelvis & Frog BOTH hips"
            },
            "Slipped Capital Femoral Epiphysis - Stable": {
                priority: "Priority 2a",
                targetTime: "call to the Orthopaedic Surgeon",
                requiredXray: "AP Pelvis & Frog BOTH hips"
            },
            "Developmental Dysplasia of hip < 12 months": {
                priority: "Fill out Developmental Hip Dysplasia Referral Form",
                targetTime: "Fill out Developmental Hip Dysplasia Referral Form",
                requiredXray: "Fill out Developmental Hip Dysplasia Referral Form"
            },
            "Developmental Dysplasia of hip - 12 months - 3 years": {
                priority: "Priority 2b",
                targetTime: "within 3 weeks",
                requiredXray: "AP Pelvis"
            },
            "Avascular Necrosis of the Hip": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP Pelvis & Frog BOTH hips"
            },
            "Legge Perthes": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP Pelvis & Frog BOTH hips"
            },
            "Other elective hip disorder": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP Pelvis & Frog BOTH hips"
            },
            "Developmental Dysplasia of hip - > 3 years": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP Pelvis & Frog BOTH hips"
            },
            "Fracture - Nonunion": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP/Lat of affected bone"
            },
            "Fracture - Malunion": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat of affected bone"
            },
            "Other Minor variants of normal orthopaedic development": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "Standing AP Hips to ankle"
            },
            "bow legs (genu varum) in children < 3yrs of age, knock knees (genu valgum) in children <7yrs of age": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "2 separate (Need discussion)"
            },
            "flexible flat feet": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat standing & oblique both feet"
            },
            "intoeing": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "Nothing in sheet (Need Discussion)"
            },
            "outtoeing": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "Nothing in sheet (Need Discussion)"
            },
            "Malignant/Aggressive bone tumour": {
                priority: "Priority 2a",
                targetTime: "within 1 week",
                requiredXray: "AP/Lat of affected bone"
            },
            "Benign bone tumour": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat of affected bone"
            },
            "Muscular Dystrophy": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "X-Ray not required"
            },
            "Cerebral Palsy": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP Pelvis"
            },
            "Spina Bifida": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP Pelvis"
            },
            "Wound infection/dehiscence": {
                priority: "Priority 1",
                targetTime: "within 24 hours",
                requiredXray: "X-Ray not required - call on physician"
            },
            "Other Cancer - I": {
                priority: "Priority 1",
                targetTime: "within 24 hours",
                requiredXray: "AP/Lat of affected bone"
            },
            "Growth arrest (any cause)": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP/Lat of affected bone"
            },
            "Other - IV": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat of affected bone"
            },
            "Other elective orthopaedic disorder": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat of affected bone"
            },
            "Congenital dislocation of knee": {
                priority: "Priority 2b",
                targetTime: "within 3 weeks",
                requiredXray: "X-Ray not required"
            },
            "Congenital pseudarthrosis of tibia": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP/Lat tibia"
            },
            "Osteochondritis Dissecans": {
                priority: "Priority 3",
                targetTime: "within 6 weeks",
                requiredXray: "AP/Lat notch view knee"
            },
            "Duplication": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP/Lat affected bone"
            },
            "Blount’s disease": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP Hips to ankle"
            },
            "Leg length discrepancy": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP Hips to ankle with appropriately sized block under short leg"
            },
            "Fibular Hemimelia, Proximal Femoral Focal Deficiency, Tibial hemimelia": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP Hips to ankle"
            },
            "Genu Valgum (knock knees) >10 yrs old": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP Hips to ankle"
            },
            "Genu Varum (bow legs) >3yrs old": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP Hips to ankle"
            },
            "Other elective lower limb disorder": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP Hips to ankle"
            },
            "Tibia/Femur Torsion": {
                priority: "Priority 6",
                targetTime: "within 12 months",
                requiredXray: "X-Ray not required"
            },
            "“anterior knee pain NYD” exclude SCFE as source of pain": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "AP/Lat knee"
            },
            "Osgood schlatters": {
                priority: "Priority 5",
                targetTime: "within 6 months",
                requiredXray: "X-Ray not required"
            },
            "Charcot Marie Tooth Syndrome": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "X-Ray not required"
            },
            "Mitochondiopathy": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "X-Ray not required"
            },
            "Mitochondrial Disease": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "X-Ray not required"
            },
            "Arthrogryposis": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "X-Ray not required"
            },
            "Neurofibromatosis": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "X-Ray not required"
            },
            "Dysplasias": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "AP hips to ankle"
            },
            "Osteogenesis Imperfecta": {
                priority: "Priority 4",
                targetTime: "within 3 months",
                requiredXray: "X-Ray not required"
            },
            // Add more description-specific mappings here
        };

        const categoryInput = document.getElementById("DxCategory");
        const descriptionInput = document.getElementById("DxDescription");
        const descDatalist = document.getElementById("DxDesc");

        const priorityCodeInput = document.getElementById("PriorityCode");
        const targetTimeInput = document.getElementById("TargetTime");
        const requiredXrayTextarea = document.getElementById("RequiredXray");

        // Update descriptions when category changes
        categoryInput.addEventListener("input", function () {
            const selectedCategory = this.value;

            // Clear existing options
            descDatalist.innerHTML = "";

            // Populate new options based on selected category
            const descriptions = categoryToDescriptions[selectedCategory] || [];
            descriptions.forEach(desc => {
                const option = document.createElement("option");
                option.value = desc;
                descDatalist.appendChild(option);
            });

            // Clear description and dependent fields
            descriptionInput.value = "";
            priorityCodeInput.value = "";
            targetTimeInput.value = "";
            requiredXrayTextarea.value = "";
        });

        // Update additional fields when a valid description is selected
        descriptionInput.addEventListener("input", function () {
            const selectedDescription = this.value;

            // Check if the selected description is in the datalist options
            const isValidDescription = Array.from(descDatalist.options).some(
                option => option.value === selectedDescription
            );

            if (isValidDescription) {
                // Get details for the selected description
                const details = descriptionDetails[selectedDescription];
                if (details) {
                    priorityCodeInput.value = details.priority;
                    targetTimeInput.value = details.targetTime;
                    requiredXrayTextarea.value = details.requiredXray;
                }
            } else {
                // Clear fields if no valid description is selected
                priorityCodeInput.value = "";
                targetTimeInput.value = "";
                requiredXrayTextarea.value = "";
            }
        });
    });
</script>





	<!-- Xbox styling -->

	<style type="text/css">
	/* x-box styling - using the CSS wildcard 'containing' selector * to include all classes of x-boxes*/
	input[class*='box'] {
		position: absolute;
		font-family: Arial;
		border: 1px solid black;
		cursor: pointer;
		font-weight: bolder;
		text-align: center;
		background: #23bfd4;
	}
	input[class*='box']:hover {
		color: #d8843d;
		border: 1px solid #a4a4a4;
		border-top: 2px solid #b2b2b2;
		background-color: #23bfd4;
		background: -webkit-gradient(linear, left top, left bottom, from(#23bfd4), to(#d8843d));
		background: -moz-linear-gradient(top, #23bfd4, #d8843d);
		background: -o-linear-gradient(top, #23bfd4, #d8843d);
		background: -ms-linear-gradient(top, #23bfd4, #d8843d);
		}
.box1 {
		font-size: 14px;
		width:14px;
		height:14px;
		}
.box2 {
		font-size: 12px;
		width:12px;
		height:12px;
		}
	</style>

<!-- Freeform Signatures -->


<!-- jSignature file for local testing outside of OSCAR -->
<script type="text/javascript" src="jSignature.min.js"></script>

<script type="text/javascript" src="${oscar_image_path}jSignature.min.js"></script>

<!--[if lt IE 9]>
<script type="text/javascript" src="${oscar_javascript_path}flashcanvas.js"></script>
<![endif]-->


<script language="javascript" type="text/javascript">
	
	/****************************
		Signature functions - 1 signature
	****************************/
	jQuery(document).ready(function() {
		$("#CanvasSignature1").jSignature({'decor-color':'rgba(255, 255, 255, 0.0)'})
	})

	function saveSig() {
		var $sig=$("#CanvasSignature1");
		var datapair=new Array();
		datapair=$sig.jSignature("getData","base30");
		document.getElementById("StoreSignature1").value=datapair.join(",");
	}

	function clearSig() {
		$("#CanvasSignature1").jSignature("reset");
	}

	function loadSig() {
		var $sig=$("#CanvasSignature1");
		var data
		data=document.getElementById("StoreSignature1").value;
		try {
			$sig.jSignature("setData","data:"+ data);
		} catch (e) {
			console.log("jSignature failed to load signature.")
		}
	}

	/****************************
		Script to enable signature stamps. No Array needed.  
		Signature assigned to ProviderNumber in the format:
		consult_sig_+ProviderNumber+.png
	****************************/
	function SignForm() {
			var ProviderNumber = document.getElementById('current_user_id').value;
			document.getElementById('StampSignature').src = "../eform/displayImage.do?imagefile=consult_sig_"+ProviderNumber+".png";
	}

	/****************************
		Script to add/remove signature
		adapts to signature type
	****************************/  
	function AddSig(id) {
		if (id == 'Wet') {
		var id2 = "CanvasSignature1";
		var Cl_Name = "sig";}
		else if (id == 'Stamp'){
		SignForm();
		var id2 = "Signature_Stamp" ;
		var Cl_Name = "Show";}
		else {
		var id2 = "Signature_Electronic" ;
		var Cl_Name = "Show";}
		document.getElementById(id2).className = Cl_Name ;
		id3 = ["CanvasSignature1", "Signature_Stamp", "Signature_Electronic"];
		for ( i=0; i<id3.length; i++ ){
		var SigName = id3[i];
		if (SigName != id2){
		document.getElementById(SigName).className = 'Hide'; }
		}
		id4 = ["Wet", "Stamp", "Electronic"];
		for ( j=0; j<id4.length; j++ ){
		var SigName2 = id4[j];
		if (SigName2 != id){
		document.getElementById(SigName2).checked = false ;}
			}
		document.getElementById('SignatureChoice').value = id ;
		}
		
	function removeSig(id) {
		if (id == "Wet") {
		var id2 = "CanvasSignature1";}
		else {
		var id2 = ("Signature_" + id); }

		document.getElementById(id2).className = 'Hide';
		document.getElementById('SignatureChoice').value = 'None';
	}

	/****************************
		Script to load None signature option
	****************************/
	function Add_None() {
		document.getElementById('CanvasSignature1').className = 'Hide';
		document.getElementById('Signature_Stamp').className = 'Hide';
		document.getElementById('Signature_Electronic').className = 'Hide';
	}

	/****************************
		Script to reload signature option selected on submit
	****************************/
	function reloadSignature() {
		// show chosen signature format on submit: e.g.  Wet, Stamp, Electronic, None
		var chosenSig = document.getElementById('SignatureChoice').value;
		document.getElementById(chosenSig).checked = true;
		if (chosenSig === 'Stamp' || chosenSig === 'Wet' || chosenSig === 'Electronic' ) {
			AddSig(chosenSig);
		} else if (chosenSig === 'None') {
			Add_None();
		}
	}

</script>

<!-- scripts to confirm closing of window if it hadnt been saved yet -->
<script language="javascript">
//keypress events trigger dirty flag
var needToConfirm = false;
document.onkeyup=setDirtyFlag;
function setDirtyFlag(){
	needToConfirm = true;
}
function releaseDirtyFlag(){
	needToConfirm = false; //Call this function to prevent an alert.
//this could be called when save button is clicked
}
window.onbeforeunload = confirmExit;
function confirmExit(){
	if (needToConfirm){
		 return "You have attempted to leave this page. If you have made any changes to the fields without clicking the Save button, your changes will be lost. Are you sure you want to exit this page?";
	 }
}

	/****************************
		print and submit/save functions 
	****************************/
	function printLetter() {
		// Save reminder; allows for validity testing
		document.getElementById('SubmitButton').classList.toggle('attn');
		document.getElementById('ResetButton').style.color = 'black';
		document.getElementById('SubmitButton').style.border = '2px solid red';
		alert("eFORM has NOT been submitted.  If needed, cancel print and complete required fields.  Ensure you click SUBMIT after print.");
		window.print();
	}

	function submission() {  // requires type="submit" in submit button input to allow for validity testing
		setFlag();
		saveSig();
		releaseDirtyFlag();
	}

	function setFlag() {
	// indicate that the form has been submitted
	if (document.getElementById("newForm").value == 'True')
		document.getElementById("newForm").value = 'False';
	}
</script>
<script language="javascript">
function setFaxNo(){

	setTimeout(function() {
	$('#faxSave_button').css("background-color", "yellow");
	$('#fax_button').hide();
	document.getElementById("otherFaxInput").value="16048752275"
	AddOtherFax();
	return false;
	   },1000);

   
	  setTimeout(function() {
	   $('#otherFaxSelect').prepend('<option value="16048752275">BCCH General Orthopaedics</option>');
	   $('select option[value="16048752275"]').attr("selected",true);
	   //$('#faxSave_button').css("background-color", "yellow");
	   //AddOtherFaxProvider();
	   return false;
             },500);
} 
</script>
<!-- main calendar program -->
<script type="text/javascript" src="../share/calendar/calendar.js"></script>
<script type="text/javascript" src="../share/calendar/lang/calendar-en.js"></script>
<script type="text/javascript" src="../share/calendar/calendar-setup.js"></script>
<link rel="stylesheet" type="text/css" media="all" href="../share/calendar/calendar.css" title="win2k-cold-1" />

<script type="text/javascript">
function reImg(){
// for stand alone development without uploading to OSCAR
	var strLoc = window.location.href.toLowerCase();
	if(strLoc.indexOf("https") == -1) {
		var src1 = document.getElementById("BGImage1").src;
		document.getElementById("BGImage1").src = src1.replace("$%7Boscar_image_path%7D","");
	}
}
</script>
</head>

<body onload="startUp();"  onbeforeprint="document.forms['FormName'].reportValidity();" >
<form method="post" action="" name="FormName" id="FormName" >
<div id="page1" style="position:relative;" >
<img id="BGImage1" src="${oscar_image_path}BCCH-Gen-Ortho-Referral-2024-1.png" style="position: relative; left: 0px; top: 0px; width:750px">

<!-- Hidden Inputs -->
<input name="patient_nameL" id="patient_nameL" type="hidden" oscarDB=patient_nameL />
<input type="hidden" id="recipient" name="recipient" value="BCCH Dept of Orthopaedics" />
<input type="hidden" id="recipientFaxNumber" name="recipientFaxNumber" value="16048752275" />
<input type="hidden" name="current_user_id" id="current_user_id" oscarDB=current_user_id />
<input type="hidden" name="SignatureChoice" id="SignatureChoice" />
<input type="hidden" name="StoreSignature1" id="StoreSignature1" value="" />
<!-- End Hidden Inputs --> 
<a name="WebLink1" id="WebLink1" href="http://www.bcchildrens.ca" class="DoNotPrint2 link" style="position:absolute; left:15px; top:15px; width:85px; height:70px; text-align:left; " title="BC Children&#8217;s Hospital"  target="_blank"></a>
<span class="DoNotPrint2" style="position:absolute; left:521px; top:36px; color:#23bfd4;">
<input name="BCCH_Gen_Ortho" id="BCCH_Gen_Ortho" class="copyable link" style="width:100px; height:16px; background-color:transparent; color:transparent;" title="click to copy" value="1-604-875-2275" /> click to copy
</span>
<a name="WebLink2" id="WebLink2" href="http://www.bcchildrens.ca/our-services/clinics/orthopaedics" class="DoNotPrint2 link" style="position:absolute; left:175px; top:58px; width:440px; height:16px; text-align:left; " title="General Ortho Page"  target="_blank"></a>

<input name="Referral_Internal" id="Referral_Internal" type="text" class="Radio box1" style="left:236px; top:83px;" />
<input name="Referral_External" id="Referral_External" type="text" class="Radio box1" style="left:400px; top:83px;" />

<!-- Demoagraphics --> 
<input name="patient_name" id="patient_name" type="text" class="noborder" style="position:absolute; left:100px; top:133px; width:595px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" oscarDB=patient_name />
<input name="address_street_number_and_name" id="address_street_number_and_name" type="text" class="noborder" style="position:absolute; left:65px; top:177px; width:415px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" oscarDB=address_street_number_and_name />
<input name="city" id="city" type="text" class="noborder" style="position:absolute; left:42px; top:200px; width:200px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" oscarDB=city />
<input name="postal" id="postal" type="text" class="noborder" style="position:absolute; left:315px; top:200px; width:170px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" oscarDB=postal />
<input name="hinc" id="hinc" type="text" class="noborder" style="position:absolute; left:47px; top:223px; width:195px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=hinc />
<span style="position:absolute; left:300px; top:223px;">
<input name="dob_day" id="dob_day" type="text" class="noborder" style="width:20px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=dob_day />dd/
<input name="dob_month" id="dob_month" type="text" class="noborder" style="width:20px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=dob_month />mm/
<input name="dob_year" id="dob_year" type="text" class="noborder" style="width:40px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=dob_year />yyyy
</span>
<input name="sex" id="sex" type="text" class="noborder" style="position:absolute; left:535px; top:223px; width:100px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=sex />
<input name="phone" id="phone" type="text" class="noborder" style="position:absolute; left:575px; top:154px; width:120px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=phone />
<input name="phone2" id="phone2" type="text" class="noborder" style="position:absolute; left:570px; top:177px; width:125px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=phone2 />
<input name="cell" id="cell" type="text" class="noborder" style="position:absolute; left:565px; top:200px; width:130px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=cell />
<input name="English_Yes" id="English_Yes" type="text" class="Radio box2" style="left:227px; top:245px;"  onmouseup="Language.required = false;  document.forms['FormName'].checkValidity();" />
<input name="English_No" id="English_No" type="text" class="Radio box2" style="left:284px; top:245px;"   onmouseup="Language.required = true;  document.forms['FormName'].checkValidity();" />
<input name="Language" id="Language" type="text" class="noborder" style="position:absolute; left:455px; top:245px; width:240px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" list="Lang" placeholder="Double click or start typing" title="Double click or start typing" />
		<datalist id="Lang">
			<option value="English">English</option>
			<option value="Punjabi">Punjabi</option>
			<option value="Chinese">Chinese</option>
			<option value="Hindi">Hindi</option>
			<option value="French">French</option>
			<option value="Farsi">Farsi</option>
			<option value="German">Geman</option>
			<option value="Korean">Korean</option>
			<option value="Spanish">Spanish</option>
			<option value="Vietnamese">Vietnamese</option>
		</datalist>
<input name="AlternateContactName" id="AlternateContactName" type="text" class="noborder" style="position:absolute; left:245px; top:265px; width:195px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" />
<input name="AlternateContactNumber" id="AlternateContactNumber" type="text" class="noborder" style="position:absolute; left:545px; top:265px; width:150px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" />

<input name="current_user" id="current_user" type="text" class="noborder" style="position:absolute; left:135px; top:293px; width:220px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=current_user />
<input name="current_user_ohip_no" id="current_user_ohip_no" type="text" class="noborder" style="position:absolute; left:410px; top:293px; width:75px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=current_user_ohip_no />
<input name="clinic_phone" id="clinic_phone" type="text" class="noborder" style="position:absolute; left:530px; top:293px; width:80px; font-family:sans-serif; font-size:12px; text-align:left; background-color:transparent;"  oscarDB=clinic_phone />
<textarea name="clinic_fax" id="clinic_fax" type="text" class="noborder" style="position:absolute; left:640px; top:285px; width:60px; height:25px; font-family:sans-serif; font-size:12px; text-align:left; background-color:transparent;"  oscarDB=clinic_fax ></textarea>

<input name="doctor" id="doctor" type="text" class="noborder" style="position:absolute; left:215px; top:317px; width:140px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=doctor />
<input name="doctor_ohip_no" id="doctor_ohip_no" type="text" class="noborder" style="position:absolute; left:410px; top:317px; width:75px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=doctor_ohip_no />
<input name="clinic_phone2" id="clinic_phone2" type="text" class="noborder" style="position:absolute; left:530px; top:317px; width:80px; font-family:sans-serif; font-size:12px; text-align:left; background-color:transparent;"  oscarDB=clinic_phone />
<textarea name="clinic_fax2" id="clinic_fax2" type="text" class="noborder" style="position:absolute; left:640px; top:309px; width:60px; height:25px; font-family:sans-serif; font-size:12px; text-align:left; background-color:transparent;"  oscarDB=clinic_fax ></textarea>
<!-- Relevant History & Examination Findings -->
<textarea name="Hx" id="Hx" type="text" class=" noborder" style="position:absolute; left:15px; top:390px; width:680px; height:35px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;" ></textarea>
<input name="Pain_None" id="Pain_None" type="text" class="Radio box1" style="left:185px; top:433px;" />
<input name="Pain_Mild" id="Pain_Mild" type="text" class="Radio box1" style="left:286px; top:433px;" />
<input name="Pain_Moderate" id="Pain_Moderate" type="text" class="Radio box1" style="left:403px; top:433px;" />
<input name="Pain_Severe" id="Pain_Severe" type="text" class="Radio box1" style="left:524px; top:433px;" />

<div id="ChartLinks" class="DoNotPrint2" style="position: absolute; left:730px; top:380px; font-size:14px;" >
	<input value="To Documents" name="ConsultReports_link" type="button" class="link" onclick="onBodyLoad(); documents();" title="link to document library" /><br>
	<input value="Labs & Reports" name="Labs" type="button" class="link" onclick="onBodyLoad(); labs();" /><br>
	<input value="Lab Row Display" name="LabSummary" type="button" class="link" onclick="onBodyLoad(); labRow();" /><br>
	<input value="To Medications" name="Rx_module" type="button" class="link" onclick="onBodyLoad(); Rx();" /><br><br>
	<span name="Hint" style="width:250px; font-size:14px; color:#d8843d;" >Hint: if insufficient room, attach<br>
	<input name="PtSummary_Link" id="PtSummary_Link" type="button" class="link" style="width:80px; " value="Pt Summary" oscarOPEN="PCP Patient Summary" title="to eForm" /><br> (import missing eForm <a target="_blank" href="https://oscargalaxy.org/?wpdmpro=complex-care-plan-lite-2019">here </a>)</span><br><br>
</div>

<input name="PMHx" id="PMHx" type="text" class=" noborder" style="position:absolute; left:15px; top:510px; width:680px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;" >

<input name="Priority_Routine" id="Priority_Routine" type="text" class="Radio box1" style="left:211px; top:560px;" onmouseup="UrgentReason.required = false;  document.forms['FormName'].checkValidity();" />
<input name="Priority_Urgent" id="Priority_Urgent" type="text" class="Radio box1" style="left:299px; top:560px;" onmouseup="UrgentReason.required = true;  document.forms['FormName'].checkValidity();" />
<input name="UrgentReason" id="UrgentReason" type="text" class="noborder" style="position:absolute; left:515px; top:557px; width:180px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" />
<input name="OrthoDoc" id="OrthoDoc" type="text" class="noborder" style="position:absolute; left:125px; top:581px; width:240px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" list="OrthoMD" placeholder="Double click or start typing" title="Double click or start typing" />
		<datalist id="OrthoMD">
			<option value="First Available">First</option>
			<option value="Dr. Alvarez">Dr. Alvarez</option>
			<option value="Dr. Cooper">Dr. Cooper</option>
			<option value="Dr. Kollias">Dr. Kollias</option>
			<option value="Dr. Leveille">Dr. Leveille</option>
			<option value="Dr. Mulpuri">Dr. Mulpuri</option>
			<option value="Dr. Pike">Dr. Pike</option>
			<option value="Dr. Reilly">Dr. Reilly</option>
		</datalist>

<input name="DxCategory" id="DxCategory" type="text" class="noborder" style="position:absolute; left:145px; top:643px; width:550px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" list="DxCat" placeholder="Double click or start typing, scroll down for more" title="Double click or start typing, scroll down for more" required />
		<datalist id="DxCat">
			<option value="Bone and Joint Infections">Bone and Joint Infections</option>
			<option value="Disorders of the Arms">Disorders of the Arms</option>
			<option value="Disorders of the Feet">Disorders of the Feet</option>
			<option value="Disorders of the Hip">Disorders of the Hip</option>
			<option value="Fractures and Injuries">Fractures and Injuries</option>
			<option value="Minor Variants of Normal">Minor Variants of Normal</option>
			<option value="Musculoskeletal Tumours">Musculoskeletal Tumours</option>
			<option value="Neuromuscular">Neuromuscular</option>
			<option value="Other">Other</option>
			<option value="Other Disorders of the Legs">Other Disorders of the Legs</option>
			<option value="Other Neuromuscular">Other Neuromuscular</option>
			<option value="Other Syndrome">Other Syndrome</option>
			<option value="Skeletal Dysplasias">Skeletal Dysplasias</option>
			<option value="Acute Knee injury">Acute Knee injury</option>
			<option value="Spine">Spine</option>
		</datalist>

<div id="ChartLinks2" class="DoNotPrint2" style="position: absolute; left:730px; top:610px; font-size:14px;width:250px; font-size:14px; color:#d8843d;" >
<input name="Devel_Hip_Dysp" id="Devel_Hip_Dysp" type="button" class="link" value="Developmental Hip Dysplasia" oscarOPEN="BCCH DDH 2024" title="to eForm" /> (import missing eForm <a target="_blank" href="https://oscargalaxy.org/download/bc-childrens-hospital-developmental-dysplasia-of-the-hip-referral-form/">here </a>)<br>
<input name="BCCH_Ortho_Trauma" id="BCCH_Ortho_Trauma" type="button" class="link" value="BCCH Ortho Trauma" oscarOPEN="BCCH Ortho Trauma 2024" title="to eForm" /> (import missing eForm <a target="_blank" href="https://oscargalaxy.org/download/bcch-trauma-orthopaedics-referral-2024/">here </a>)<br>
<input name="BCCH_Acute_Knee_Injury" id="BCCH_Acute_Knee_Injury" type="button" class="link" value="BCCH Acute Knee Injury" oscarOPEN="BCCH Acute Knee Injury 2024" title="to eForm" /> (import missing eForm <a target="_blank" href="https://oscargalaxy.org/download/bcch-acute-knee-injury-eform-2024/">here </a>)<br>
<input name="BCCH_Spine_Injury" id="BCCH_Spine_Injury" type="button" class="link" value="BCCH Spine" oscarOPEN="BCCH Spine 2024" title="to eForm" /> (import missing eForm <a target="_blank" href="https://oscargalaxy.org/download/bcch-spine-referral-eform-2024/">here </a>)	
</div>

<input name="DxDescription" id="DxDescription" type="text" class="noborder" style="position:absolute; left:145px; top:670px; width:550px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" list="DxDesc" placeholder="Double click or start typing, scroll down for more" title="Double click or start typing, scroll down for more" required />
		<datalist id="DxDesc">
		</datalist>

<input name="PriorityCode" id="PriorityCode" type="text" class="noborder" style="position:absolute; left:110px; top:702px; width:185px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" />
<input name="TargetTime" id="TargetTime" type="text" class="noborder" style="position:absolute; left:485px; top:702px; width:210px; font-family:sans-serif; font-style:normal; font-weight:normal; font-size:14px; text-align:left; background-color:transparent;" />

<textarea name="RequiredXray" id="RequiredXray" type="text" class="noborder" style="position:absolute; left:125px; top:725px; width:570px; height:30px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;" ></textarea>

<input name="XrayAvailable_Yes" id="XrayAvailable_Yes" type="text" class="Radio box1" style="left:308px; top:764px;" />
<input name="XrayAvailable_No" id="XrayAvailable_No" type="text" class="Radio box1" style="left:367px; top:764px;" />
<input name="XrayAvailable_Na" id="XrayAvailable_Na" type="text" class="Radio box1" style="left:415px; top:764px;" />

<textarea name="AdditionalInfo" id="AdditionalInfo" type="text" class="noborder" style="position:absolute; left:15px; top:860px; width:680px; height:45px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;" ></textarea>

<!-- Signature Wet Script -->
<div id="CanvasSignature1" class="sig" style="position:absolute; left:295px; top:912px; width:220px; height:35px;"></div>

<!-- Signature Stamp -->
<div id="Signature_Stamp" class="Hide" style="position:absolute; left:295px; top:920px;">
	<img id="StampSignature" src="" style="width:170px; height:30px;" />
</div>

<!-- Signature Electronic -->
<span id="Signature_Electronic" class="Hide" style="position:absolute; left:300px; top:930px; font-size:16px;"><b><i>&ldquo;Electronically signed&rdquo;</i></b></span>

<!-- Signature Control -->
<div id="signatureControl" class="DoNotPrint2" style="position:absolute; left:750px; top:900px;">
	<input name="Stamp" id="Stamp" type="checkbox" class="DoNotPrint2" style="position:absolute; left:0px; top:0px; color:#26374a;"
	onclick="
	document.getElementById('Wet').checked = false;
	if (this.checked == true) { 
		AddSig(this.id);
	} else {
		removeSig(this.id);
	}" />
	<span class="DoNotPrint2" style="position:absolute; left:25px; top:3px; width:80px; font-size:12px; color:#26374a;">Stamp</span>

	<input name="Wet" id="Wet" type="checkbox" class="DoNotPrint2" style="position:absolute; left:0px; top:20px; color:#26374a;"
		onclick="
			document.getElementById('Stamp').checked = false;
			if (this.checked == true) {
				AddSig(this.id);
			} else {
				removeSig(this.id);
			}" />
	<span class="DoNotPrint2" style="position:absolute; left:25px; top:23px; width:150px; font-size:12px; color:#26374a;">Wet</span>
	<input name="ClearButton" id="ClearButton" type="button" class="DoNotPrint2" style="position:absolute; left:55px; top:23px; font-size:12px; color:#3d6e84;" onclick="clearSig();" value="Clear Sig" /> 

	<input name="Electronic" id="Electronic" type="checkbox" class="DoNotPrint2" style="position:absolute; left:0px; top:40px; color:#26374a;"
	onclick="
	document.getElementById('Wet').checked = false;
	if (this.checked == true) {
		AddSig(this.id);
	} else {
		removeSig(this.id);
	}" />
	<span class="DoNotPrint2" style="position:absolute; left:25px; top:43px; width:80px; font-size:12px; color:#26374a;">Electronic</span>
</div>
<input name="today" id="today" type="text" class="noborder" style="position:absolute; left:560px; top:928px; width:140px; font-family:sans-serif; font-size:14px; text-align:left; background-color:transparent;"  oscarDB=today />
</div>
 <div class="DoNotPrint" id="BottomButtons" style="position: absolute; top:980px; left:0px;">
	 <table><tr><td>
		<input type="hidden" name="newForm" id="newForm" value="True"  />
		Subject: <input name="subject" size="40" type="text"> <br> 
		<input value="Reset" name="ResetButton" id="ResetButton" type="reset" style="color:red;" onclick="history.go(0);" /> 
		<input value="Print" name="PrintButton" id="PrintButton" type="button" onclick="printLetter();" /> 
		<input value="Submit" name="SubmitButton" id="SubmitButton" type="submit" onclick="submission();" />
	 </td></tr></table>
	 
<!-- Copy Left -->
<span>Created November 29<sup>th</sup> 2024 by <a href="https://giphy.com/gifs/GT8KEby4tutE2yS0dE/html5" target="_blank">Dr. John Robertson</a>, </span> 
licensed under the <a rel="license" href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.html" target="_blank">GNU General Public License, version 2(GPLv2)</a><br>
<span style="color:forestgreen;">Please consider supporting </span><a href="https://oscarbc.ca/" target="_blank">oscarbc.ca.</a> |
<a id="emailLnk1" style="cursor:pointer;" onclick="javascript:window.open('mailto:info@oscarbc.ca', 'mail'); event.preventDefault();" title="Email to OSCAR BC">Email: info@oscarbc.ca/</a> |
<a href="https://www.facebook.com/pg/OSCARBCcommunity" target="_blank">Facebook</a> | 
<a href="https://twitter.com/OSCARBCemr" target="_blank">Twitter</a> | 
<a href="https://www.linkedin.com/company/oscarbc/" target="_blank">LinkedIn</a> |
<br><br><br><br><br><br>
 </div>
</form>

<div id="Sidepanel" class="DoNotPrint2">
<button class="accordion" id="Page_1">General Orthopaedics Referral Form Instructions</button>
<div id="Pg1" class="DoNotPrint2 panel" >
	<span name="Pg1" class="DoNotPrint2" style="width:250px; font-size:14px; color:#4362a5;" >
<b><u>Section 1: Patient Demographics</u></b><br>
Complete patient demographics and referring physician/provider information:<br><br>
<b><u>Section 2: Relevant History & Examination Findings</u></b><br>
It is an open-ended text box designed for documenting any relevant history and findings obtained from a variety of
diagnostic tests. This may include results from X-rays, MRIs, or other medical devices. This space allows for
detailed notes and observations that are crucial for comprehensive medical records. Additionally, describe the
patient's current pain experience, which is crucial for accurate diagnosis and treatment planning.<br><br>
<b><u>Section 3: Relevant Past Medical History/Family History</u></b><br>
<b>Complete this section if the patient has relevant past medical or family history.</b><br><br>
If there is relevant medical history for the patient or their family, ensuring that significant health background information is recorded.<br><br>
<b><u>Section 4: Referral Priority</u></b><br>
This section outlines the priority of the referral, indicating whether it is an urgent or routine case. If the referral is
marked as urgent, a reason must be provided to justify the priority. This ensures that the urgency is well documented
and supported by relevant information.<br><br>
<b><u>Section 5: Primary Diagnosis</u></b><br>
This section outlines the patient's primary diagnosis, which includes the diagnosis category and it description. The
user only select the "Diagnosis Category" and its corresponding "Diagnosis Description", while the fields "Priority
Code", "Target Time for Appointment", and "Required X-ray" will be auto-populated and these fields are noneditable.<br>
<b><i>If required X-rays are not attached referral will be refused and returned.</i></b><br><br>
	</span>
</div>
</div>
<!-- script to run the accordion -->
<script>
	var acc = document.getElementsByClassName("accordion");
	var i;

	for (i = 0; i < acc.length; i++) {
	  acc[i].addEventListener("click", function() {
		this.classList.toggle("active");
		var panel = this.nextElementSibling;
		if (panel.style.maxHeight) {
		  panel.style.maxHeight = null;
		} else {
		  panel.style.maxHeight = panel.scrollHeight + "px";
		} 
	});
	}
</script>

<!-- Define Date Calendars -->
<script type="text/javascript">
	Calendar.setup( { inputField : "today", ifFormat : "%d/%b/%Y",  button : "today" } );
</script>
<!-- Xbox and Radio scripts -->
<script>
var b = document.getElementsByClassName("Xbox");
// console.log("Xboxes: "+b.length);
for(var i=0; i<b.length; i++){ 
 b[i].onclick = function(){ 
   //console.log("click on " + this.id); 
// large black box is '\u2B1B' does not render or save properly on all systems
  if (document.getElementById(this.id).value.length < 1) {
	document.getElementById(this.id).value = 'X' ;
	} else {
	document.getElementById(this.id).value ='';
	}
  return false;
}
 } 


var r = document.getElementsByClassName("Radio");
//console.log("Radio array length is "+r.length);
for(var i=0; i<r.length; i++){

 r[i].onclick = function(){ 
	let x = this.id;

   var partA = x.substring(0, x.indexOf("_"));
   let items = document.querySelectorAll("[id^='"+partA+"_']");
   //console.log("click on " + x + " in a group of " +items.length); 
     for(let item of items){
    if (x != item.id) { 
		item.value = ''; 
	} else {
		document.getElementById(x).value ='X';
	}
  }

 } 
} 

</script>

</body>
</html>